/*!
 * Label In Place Plugin
 * Forked from https://github.com/andreapace/labelinplace
 * Revamped and modified by Kartik Visweswaran, Krajee.com, 2018
 * - Enhancements to display label animation correctly on fast click/double click
 * @package yii2-label-inplace
 * @version 1.2.3
 */
!function(a){"use strict";var e;a.fn.labelinplace="",(e=function(a,e){this.element=a,this.options=e,this.init()}).prototype={init:function(){var e,l,t,s=this.element,n=a(s),i=this.options;n.each(function(){var e=a("label[for='"+n.attr(i.inputAttr)+"']"),l=parseInt(n.css("border-top-width"))+parseInt(n.css("padding-top")),t=parseInt(n.css("border-left-width"))+parseInt(n.css("padding-left")),o=parseInt(n.css("border-bottom-width"))+parseInt(n.css("padding-bottom"));switch(n.data({height:n.outerHeight(),width:n.outerWidth(),spaceTop:l,spaceBottom:o}),i.labelIconPosition){case"after":i.labelArrowRight&&e.append('<span class="'+i.classIcon+'">'+i.labelArrowRight+"</span>");break;default:i.labelArrowRight&&e.prepend('<span class="'+i.classIcon+'">'+i.labelArrowRight+"</span>")}n.removeAttr("placeholder"),e.css("position","absolute").css("top",l+"px").css("left",t+"px").addClass(i.classPlaceholder),a(s).val()&&e.hide(),n.prev("label").addBack().wrapAll('<div class="'+i.wrapperClass+'"/>')}),e=a("label[for='"+n.attr(i.inputAttr)+"']"),l=function(){if(!n.data("disableLIP")){var a=parseInt(n.outerHeight()),l=parseInt(e.outerHeight()),t=parseInt(n.css("padding-top"));switch(i.labelPosition){case"down":e.animate({top:a},i.animSpeed,function(){i.labelArrowUp&&i.labelArrowRight&&e.find("."+i.classIcon).html(i.labelArrowUp)}),n.animate({height:a+l+t,"padding-bottom":l+t+"px"},i.animSpeed,function(){e.is(":hidden")&&e.show(),e.removeClass(i.classPlaceholder).addClass(i.classLabel)});break;default:n.animate({height:a+l+t,"padding-top":l+t+"px"},i.animSpeed,function(){e.is(":hidden")&&e.show(),e.removeClass(i.classPlaceholder).addClass(i.classLabel),i.labelArrowDown&&i.labelArrowRight&&e.find("."+i.classIcon).html(i.labelArrowDown)})}n.data("disableLIP",!0)}},e.on("click",function(a){a.preventDefault(),n.data("disableLIP",!0),t&&clearTimeout(t),t=setTimeout(function(){e.hasClass(i.classPlaceholder)&&(n.data("disableLIP",!1),l())},300)}),n.on("focus",function(){l()}).on("blur",function(){var a=n.data("height"),l=parseInt(n.data("spaceTop")),t=parseInt(n.data("spaceBottom"));switch(n.data("disableLIP",!1),i.labelPosition){case"down":n.animate({height:a,"padding-bottom":t+"px"},i.animSpeed,function(){}),""!==n.val()?e.hide():e.animate({top:l},200,function(){i.labelArrowUp&&i.labelArrowRight&&e.find("."+i.classIcon).html(i.labelArrowRight)}).removeClass(i.classLabel).addClass(i.classPlaceholder);break;default:n.animate({height:a,"padding-top":l+"px"},i.animSpeed,function(){""!==n.val()?e.hide():(e.removeClass(i.classLabel).addClass(i.classPlaceholder),i.labelArrowDown&&i.labelArrowRight&&e.find("."+i.classIcon).html(i.labelArrowRight))})}}),a("."+i.wrapperClass).on("click","label."+i.classPlaceholder,function(){var e=a("."+i.wrapperClass+" ["+i.inputAttr+"="+a(this).attr("for")+"]");e.not(":focus")&&e.trigger("focus")})}},a.fn.labelinplace=function(l){var t=Array.apply(null,arguments);return t.shift(),this.each(function(){var s=a(this),n=s.data("labelinplace"),i="object"==typeof l&&l;n||(n=new e(this,a.extend({},a.fn.labelinplace.defaults,i,a(this).data())),s.data("labelinplace",n)),"string"==typeof l&&n[l].apply(n,t)})},a.fn.labelinplace.defaults={labelPosition:"up",classPlaceholder:"lip-placeholder",classLabel:"lip-label",classIcon:"lip-icon",wrapperClass:"lip-group",animSpeed:200,labelArrowDown:null,labelArrowUp:null,labelArrowRight:null,labelIconPosition:"append",inputAttr:"name"}}(window.jQuery);